<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- 补充响应式视图支持，与其他页面一致 -->
    <title>雅安市纵横计算机网络有限公司 - 专业IT解决方案服务商</title>
    <link rel="icon" href="img/zhlogo32.png" sizes="32x32" type="image/png">
    <style>
        /* 原有样式完全保留，补充响应式适配 */
        body { margin: 0; padding: 0; font-family: "Microsoft YaHei"; }
        .header { background: #0066CC; color: white; padding: 20px; text-align: center; }
        .nav { background: #F5F5F5; padding: 10px; text-align: center; }
        .nav a { margin: 0 15px; color: #333; text-decoration: none; }
        .nav a:hover { color: #0066CC; }
        .content { 
            width: 100%;
            max-width: 1000px; /* 最大宽度保持，适配小屏幕 */
            margin: 30px auto; 
            padding: 0 20px; /* 小屏幕留白 */
            box-sizing: border-box;
        }
        .section { margin-bottom: 50px; }
        .section h2 { color: #0066CC; border-bottom: 2px solid #E0E0E0; padding-bottom: 10px; }
        .footer { background: #333; color: white; text-align: center; padding: 15px; margin-top: 50px; }
        /* 税价计算器样式保留 */
        .tax-calculator {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            margin-top: 20px;
        }
        .input-group { margin-bottom: 1.5rem; }
        .input-group label { display: block; margin-bottom: 0.5rem; color: #333; font-weight: 500; }
        .input-group input { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; font-family: "Microsoft YaHei"; }
        .tax-btn { background: #0066CC; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; transition: background 0.3s; font-family: "Microsoft YaHei"; }
        .tax-btn:hover { background: #0052a3; }
        .precision-switch { margin: 1rem 0; display: flex; gap: 1rem; }
        .precision-btn { padding: 5px 10px; border: 1px solid #ddd; cursor: pointer; border-radius: 4px; background: #f5f5f5; }
        .precision-btn.active { background: #0066CC; color: white; }
        .tax-result { margin-top: 1.5rem; padding: 1rem; background: #f8f9fa; border-radius: 4px; }
        .verify-result { margin-top: 1rem; padding: 10px; border-radius: 4px; }
        .valid { background: #d4edda; color: #155724; padding: 5px; border-radius: 3px; }
        .invalid { background: #f8d7da; color: #721c24; padding: 5px; border-radius: 3px; }
        .tax-error { color: #dc3545; font-size: 0.9rem; margin-top: 0.5rem; display: none; }
        /* 补充响应式调整，与其他页面风格统一 */
        @media (max-width: 768px) {
            .nav a { margin: 0 8px; font-size: 0.9rem; }
            .tax-calculator { padding: 1.5rem; }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>雅安市纵横计算机网络有限公司</h1>
        <p>诚信为本 · 您的满意是我们最大的荣誉</p>
    </div>
    <!-- 导航链接：统一修改为.html后缀，与全站保持一致 -->
    <div class="nav">
        <a href="index.html">首页</a> <!-- 原 index.asp → index.html -->
        <a href="about.html">公司简介</a> <!-- 原 about.asp → about.html -->
        <a href="business.html">业务范围</a> <!-- 原 business.asp → business.html -->
        <a href="cooperate.html">合作客户</a> <!-- 原 cooperate.asp → cooperate.html -->
        <a href="mytool.html">税价计算器</a> <!-- 原 mytool.asp → mytool.html -->
        <a href="contact.html">联系我们</a> <!-- 原 contact.asp → contact.html -->
        <a href="cyaddr.html" target="_blank">常用网址</a> <!-- 原 cyaddr.asp → cyaddr.html -->
    </div>
    <div class="content">
        <!-- 标题保持统一风格，保留section-title类 -->
        <div class="section">
            <h2 class="section-title">实用工具 - 税价计算器</h2>
            <div class="tax-calculator">
                <div class="input-group">
                    <label for="taxRate">税率（%）：</label>
                    <input type="number" id="taxRate" step="0.01" placeholder="例如：13 表示13%">
                    <div class="tax-error" id="taxRateError">请输入有效的税率（0-100）</div>
                </div>
                <div class="input-group">
                    <label for="totalAmount">含税金额：</label>
                    <input type="number" id="totalAmount" step="0.01" placeholder="请输入含税总金额">
                    <div class="tax-error" id="amountError">请输入有效的金额</div>
                </div>
                <div class="precision-switch">
                    <div class="precision-btn active" onclick="setPrecision(2)">2位小数</div>
                    <div class="precision-btn" onclick="setPrecision(4)">4位小数</div>
                </div>
                <button class="tax-btn" onclick="calculate()">计算</button>
                <div class="tax-result">
                    <p>不含税金额：<span id="exTaxAmount2">0.00</span> (<span id="exTaxAmount4">0.0000</span>)</p>
                    <p>税额：<span id="taxAmount2">0.00</span> (<span id="taxAmount4">0.0000</span>)</p>
                </div>
                <div id="verifyResult" class="verify-result"></div>
            </div>
        </div>
    </div>
    <!-- 页脚与全站保持一致 -->
    <div class="footer">
        <p>地址：四川省雅安市健康路112号、126号 | 联系电话：0835-2232136 | 技术支持热线：0835-6208811，13881609876</p>
        <p>© 2025 雅安市纵横计算机网络有限公司 版权所有</p>
    </div>
    <!-- 税价计算器功能JS完全保留，客户端脚本静态页面支持 -->
    <script>
        let currentPrecision = 2;
        function setPrecision(precision) {
            currentPrecision = precision;
            document.querySelectorAll('.precision-btn').forEach(btn => btn.classList.toggle('active', parseInt(btn.textContent) === precision));
            if(document.getElementById('taxRate').value && document.getElementById('totalAmount').value) calculate();
        }
        function validateInputs() {
            let isValid = true;
            const taxRate = parseFloat(document.getElementById('taxRate').value);
            const totalAmount = parseFloat(document.getElementById('totalAmount').value);
            const taxRateError = document.getElementById('taxRateError');
            if (isNaN(taxRate) || taxRate <= 0 || taxRate > 100) { taxRateError.style.display = 'block'; isValid = false; }
            else { taxRateError.style.display = 'none'; }
            const amountError = document.getElementById('amountError');
            if (isNaN(totalAmount) || totalAmount <= 0) { amountError.style.display = 'block'; isValid = false; }
            else { amountError.style.display = 'none'; }
            return isValid;
        }
        function calculate() {
            if (!validateInputs()) return;
            const taxRate = parseFloat(document.getElementById('taxRate').value) / 100;
            const totalAmount = parseFloat(document.getElementById('totalAmount').value);
            const exTaxAmount = totalAmount / (1 + taxRate);
            const taxAmount = totalAmount - exTaxAmount;
            document.getElementById('exTaxAmount2').textContent = exTaxAmount.toFixed(2);
            document.getElementById('exTaxAmount4').textContent = exTaxAmount.toFixed(4);
            document.getElementById('taxAmount2').textContent = taxAmount.toFixed(2);
            document.getElementById('taxAmount4').textContent = taxAmount.toFixed(4);
            verifyCalculation(exTaxAmount, taxAmount, totalAmount);
        }
        function verifyCalculation(exTax, tax, total) {
            const verifyTotal2 = (exTax + tax).toFixed(2);
            const verifyTotal4 = (exTax + tax).toFixed(4);
            const originalTotal2 = total.toFixed(2);
            const originalTotal4 = total.toFixed(4);
            const resultHTML = `
                <p>2位验证：${verifyTotal2} vs 原值 ${originalTotal2} 
                    <span class="${verifyTotal2 === originalTotal2 ? 'valid' : 'invalid'}">
                    ${verifyTotal2 === originalTotal2 ? '✓ 计算一致' : '✗ 计算偏差'}
                    </span>
                </p>
                <p>4位验证：${verifyTotal4} vs 原值 ${originalTotal4} 
                    <span class="${verifyTotal4 === originalTotal4 ? 'valid' : 'invalid'}">
                    ${verifyTotal4 === originalTotal4 ? '✓ 计算一致' : '✗ 计算偏差'}
                    </span>
                </p>
            `;
            document.getElementById('verifyResult').innerHTML = resultHTML;
        }
        document.getElementById('taxRate').addEventListener('input', validateInputs);
        document.getElementById('totalAmount').addEventListener('input', validateInputs);
    </script>
</body>
</html>